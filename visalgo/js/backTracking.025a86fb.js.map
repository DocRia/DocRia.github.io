{"version":3,"sources":["webpack:///./src/views/NQueens.vue?4b5c","webpack:///./src/components/Board.vue?c823","webpack:///./src/components/Board.vue","webpack:///./src/components/Board.vue?2335","webpack:///./src/views/NQueens.vue","webpack:///./src/views/NQueens.vue?1581"],"names":["store","useStore","onUnmounted","commit","__exports__","queenNum","ref","showBoard","setBoard","value","ElMessage","error","message","resetBoard","redrawBoard","currBoardState","state","boardState","boardCurrCount","i","j","boardData","row","col","k","boardPrevStep","warning","boardNextStep","boardMaxCount","isFinished","boardPause","success","isBackTracking","backTrackingPosition","count","push","length","autoPlaySetting","clearInterval","boardAutoPlay","setInterval"],"mappings":"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","file":"js/backTracking.025a86fb.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./NQueens.vue?vue&type=style&index=0&id=6a0d6cfb&lang=less&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Board.vue?vue&type=style&index=0&id=0cb24e4c&lang=less&scoped=true\"","<template>\r\n  <div class=\"board\">\r\n    <el-row v-for=\"(row, index) in $store.state.boardSize\" :key=\"index\">\r\n      <el-tag\r\n        v-for=\"(col, index) in $store.state.boardSize\"\r\n        :key=\"index\"\r\n        :type=\"$store.state.boardData[row - 1][col - 1] === 2 ? 'warning' : ''\"\r\n        class=\"qblock\"\r\n        effect=\"dark\"\r\n        size=\"large\"\r\n      >\r\n      {{ $store.state.boardData[row - 1][col - 1] === 1 ? 'X' : '' }}\r\n      </el-tag>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onUnmounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nconst store = useStore()\r\n\r\nonUnmounted(() => {\r\n  store.commit('boardDestroy')\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.qblock {\r\n  width: 40px;\r\n  height: 40px;\r\n  margin: 2px;\r\n}\r\n</style>\r\n","import script from \"./Board.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Board.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Board.vue?vue&type=style&index=0&id=0cb24e4c&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\easvi\\\\Desktop\\\\Frontend\\\\visalgo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0cb24e4c\"]])\n\nexport default __exports__","<template>\n  <div class=\"n-queens-container-box\">\n    <el-row class=\"step-bar\">\n      <el-tooltip content=\"自动演示\" placement=\"top\">\n        <el-button\n          size=\"large\"\n          type=\"primary\"\n          plain\n          class=\"step-button\"\n          :disabled=\"!showBoard\"\n          @click=\"boardAutoPlay\"\n        >\n          <el-icon><video-play /></el-icon>\n        </el-button>\n      </el-tooltip>\n\n      <el-tooltip content=\"暂停演示\" placement=\"top\">\n        <el-button\n          size=\"large\"\n          type=\"primary\"\n          plain\n          class=\"step-button\"\n          :disabled=\"!showBoard\"\n          @click=\"boardPause\"\n        >\n          <el-icon><video-pause /></el-icon>\n        </el-button>\n      </el-tooltip>\n\n      <el-tooltip content=\"前进\" placement=\"top\">\n        <el-button\n          size=\"large\"\n          type=\"primary\"\n          plain\n          class=\"step-button\"\n          :disabled=\"!showBoard\"\n          @click=\"boardNextStep\"\n        >\n          <el-icon><d-arrow-right /></el-icon>\n        </el-button>\n      </el-tooltip>\n\n      <el-tooltip content=\"后退\" placement=\"top\">\n        <el-button\n          size=\"large\"\n          type=\"primary\"\n          plain\n          class=\"step-button\"\n          :disabled=\"!showBoard\"\n          @click=\"boardPrevStep\"\n        >\n          <el-icon><d-arrow-left /></el-icon>\n        </el-button>\n      </el-tooltip>\n    </el-row>\n\n    <div class=\"board-setting-container\">\n      <el-row class=\"board-setting\">\n        <el-row>\n          <span class=\"demonstration\">请选择棋盘大小（4-10）</span>\n        </el-row>\n        <el-row>\n          <div class=\"slider\">\n            <el-slider v-model=\"queenNum\" show-input :max=\"10\"> </el-slider>\n          </div>\n          <el-button type=\"primary\" plain class=\"set-board-button\" @click=\"setBoard\" v-if=\"!showBoard\">确认</el-button>\n          <el-button type=\"info\" plain class=\"set-board-button\" @click=\"resetBoard\" v-else>重置</el-button>\n        </el-row>\n      </el-row>\n    </div>\n\n    <div class=\"board\">\n      <board v-if=\"showBoard\"></board>\n      <el-tag type=\"warning\" size=\"large\" v-if=\"$store.state.isBackTracking\">\n        <el-icon><info-filled /></el-icon>\n        开始回溯\n      </el-tag>\n    </div>\n\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { useStore } from 'vuex'\nimport { ElMessage } from 'element-plus'\nimport 'element-plus/theme-chalk/el-message.css'\nimport board from '../components/Board.vue'\n\nconst queenNum = ref(4)\nconst showBoard = ref(false)\nconst store = useStore()\n\nconst setBoard = () => {\n  if (queenNum.value < 4) {\n    ElMessage.error({\n      message: '棋盘大小不能小于4'\n    })\n  } else {\n    store.commit('boardInit', queenNum.value)\n    showBoard.value = true\n  }\n}\n\nconst resetBoard = () => {\n  showBoard.value = false\n}\n\nconst redrawBoard = () => {\n  const currBoardState = store.state.boardState[store.state.boardCurrCount]\n  for (let i = 0; i < queenNum.value; i++) {\n    for (let j = 0; j < queenNum.value; j++) {\n      store.state.boardData[i][j] = 0\n    }\n  }\n  for (let i = 0; i < queenNum.value; i++) {\n    if (currBoardState[i] !== -1) {\n      let row = currBoardState[i]\n      let col = i\n      // 行列\n      for (let k = 0; k < queenNum.value; k++) {\n        store.state.boardData[row][k] = 1\n      }\n      for (let k = 0; k < queenNum.value; k++) {\n        store.state.boardData[k][col] = 1\n      }\n      // 左上\n      while (true) {\n        row--\n        col--\n        if (row >= 0 && col >= 0) {\n          store.state.boardData[row][col] = 1\n        } else {\n          break\n        }\n      }\n      // 右上\n      row = currBoardState[i]\n      col = i\n      while (true) {\n        row--\n        col++\n        if (row >= 0 && col < queenNum.value) {\n          store.state.boardData[row][col] = 1\n        } else {\n          break\n        }\n      }\n      // 左下\n      row = currBoardState[i]\n      col = i\n      while (true) {\n        row++\n        col--\n        if (row < queenNum.value && col >= 0) {\n          store.state.boardData[row][col] = 1\n        } else {\n          break\n        }\n      }\n      // 右下\n      row = currBoardState[i]\n      col = i\n      while (true) {\n        row++\n        col++\n        if (row < queenNum.value && col < queenNum.value) {\n          store.state.boardData[row][col] = 1\n        } else {\n          break\n        }\n      }\n      store.state.boardData[currBoardState[i]][i] = 2\n    } else {\n      break\n    }\n  }\n}\n\nconst boardPrevStep = () => {\n  if (store.state.boardCurrCount > 0) {\n    store.state.boardCurrCount--\n    redrawBoard()\n  } else {\n    ElMessage.warning({\n      message: '已经是第一步了'\n    })\n  }\n}\n\nconst boardNextStep = () => {\n  // 判断是否有返回上一步的操作\n  if (store.state.boardCurrCount < store.state.boardMaxCount) {\n    store.state.boardCurrCount++\n  } else {\n    if (store.state.isFinished) {\n      boardPause()\n      return ElMessage.success({\n        message: '已经是最后一步了'\n      })\n    }\n    // 获取当前棋盘状态\n    const currBoardState = [...store.state.boardState[store.state.boardCurrCount]]\n    // 判断是否处于回溯状态\n    if (store.state.isBackTracking) {\n      for (let i = 0; i < queenNum.value; i++) {\n        if (currBoardState[i] === -1) {\n          // 从上一个位置开始遍历\n          let j = store.state.backTrackingPosition + 1\n          while (j < queenNum.value) {\n            // 如果回溯列有空位，则退出回溯状态\n            if (store.state.boardData[j][i] === 0) {\n              currBoardState[i] = j\n              store.state.isBackTracking = false\n              break\n            }\n            j++\n          }\n          // 如果回溯列没有空位，则继续退回一列\n          if (j === queenNum.value) {\n            let count = queenNum.value - 1\n            while (currBoardState[count] === -1) {\n              count--\n            }\n            store.state.backTrackingPosition = currBoardState[count]\n            currBoardState[count] = -1\n          }\n          break\n        }\n      }\n      store.state.boardMaxCount++\n      store.state.boardCurrCount = store.state.boardMaxCount\n      store.state.boardState.push(currBoardState)\n    } else {\n      for (let i = 0; i < queenNum.value; i++) {\n        if (currBoardState[i] === -1) {\n          let j = 0\n          while (j < queenNum.value) {\n            if (store.state.boardData[j][i] === 0) {\n              currBoardState[i] = j\n              break\n            }\n            j++\n          }\n          // 如果下一列没有可以放置的位置，则进入回溯状态\n          if (j === queenNum.value) {\n            store.state.isBackTracking = true\n          }\n          break\n        }\n      }\n      // 如果进入回溯状态，则退回一列，获取该列的行号 backTrackingPosition\n      if (store.state.isBackTracking) {\n        let count = queenNum.value - 1\n        while (currBoardState[count] === -1) {\n          count--\n        }\n        store.state.backTrackingPosition = currBoardState[count]\n        currBoardState[count] = -1\n      }\n      store.state.boardMaxCount++\n      store.state.boardCurrCount = store.state.boardMaxCount\n      store.state.boardState.push(currBoardState)\n    }\n    if (currBoardState[currBoardState.length - 1] !== -1) {\n      store.state.isFinished = true\n    }\n  }\n  redrawBoard()\n}\n\nconst boardPause = () => {\n  if (store.state.autoPlaySetting !== 0) {\n    clearInterval(store.state.autoPlaySetting)\n    store.state.autoPlaySetting = 0\n  }\n}\n\nconst boardAutoPlay = () => {\n  if (store.state.autoPlaySetting !== 0) {\n    return ElMessage.warning({\n      message: '正在自动演示'\n    })\n  }\n  store.state.autoPlaySetting = setInterval(boardNextStep, 1000)\n}\n\n</script>\n\n<style lang=\"less\" scoped>\n.slider {\n  display: flex;\n  align-items: center;\n}\n.slider .el-slider {\n  margin-top: 0;\n  margin-left: 12px;\n  width: 40vw;\n}\n.demonstration {\n  font-size: 14px;\n  color: var(--el-text-color-secondary);\n  line-height: 44px;\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin-bottom: 0;\n}\n\n.board-setting-container {\n  display: flex;\n  justify-content: center;\n}\n.board-setting {\n  display: flex;\n  align-items: center;\n  align-content: center;\n  margin: 30px auto;\n}\n.set-board-button {\n  margin-left: 20px;\n}\n\n.board {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  align-content: center;\n  margin: 30px auto;\n}\n</style>\n","import script from \"./NQueens.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NQueens.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NQueens.vue?vue&type=style&index=0&id=6a0d6cfb&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\easvi\\\\Desktop\\\\Frontend\\\\visalgo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6a0d6cfb\"]])\n\nexport default __exports__"],"sourceRoot":""}